<!doctype html>
<html lang="it">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>{% block title %}Pannello Admin{% endblock %} - EtnaMonitor</title>

  {# meta defaults that pages can override #}
  <meta name="description" content="{% block page_description %}Pannello di amministrazione EtnaMonitor{% endblock %}" />

  <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}" />
  <link rel="stylesheet" href="{{ url_for('static', filename='css/theme.css') }}" />
  {% block head_extra %}{% endblock %}
</head>
<body class="admin">
  <header class="admin-header">
    <a href="{{ url_for('admin.admin_home') }}" class="brand">EtnaMonitor Admin</a>
    <nav class="admin-nav">
      <a href="{{ url_for('admin.partners_dashboard') }}">Partner</a>
      <a href="{{ url_for('admin.admin_home') }}">Home</a>
      <a href="{{ url_for('admin.donations') }}">Donazioni</a>
    </nav>
    <div class="admin-header__actions">
      {% if current_user.is_authenticated %}
        <span class="muted">Ciao, {{ current_user.name or current_user.email }}</span>
        <a href="{{ url_for('auth.logout') }}">Esci</a>
      {% endif %}
    </div>
  </header>

  <main class="admin-main">
    {% with messages = get_flashed_messages(with_categories=True) %}
      {% if messages %}
        <div class="admin-flashes" role="status" aria-live="polite">
          {% for category, message in messages %}
            <div class="admin-flash admin-flash--{{ category }}">
              {{ message }}
            </div>
          {% endfor %}
        </div>
      {% endif %}
    {% endwith %}
    {% block admin_content %}{% endblock %}
  </main>

  <footer class="admin-footer">
    <div class="container">
      <small>Â© {{ current_year }} EtnaMonitor</small>
    </div>
  </footer>

  <script src="{{ url_for('static', filename='js/nav.js') }}"></script>
  {% block admin_scripts %}{% endblock %}
</body>
</html>